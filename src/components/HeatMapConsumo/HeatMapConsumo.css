/* Archivo limpiado para solo mantener la versión compacta válida */
/* (Mantener este bloque único, sin duplicados) */
/* Versión compacta final */
.heatmap-container { width:100%; height:100%; padding:0.05rem 0.15rem 0; background:linear-gradient(135deg,#ffffff,#f8f9fa); border-radius:10px; box-shadow:0 3px 8px rgba(0,0,0,0.06); display:flex; flex-direction:column; align-items:center; justify-content:center; }
.heatmap-no-data { text-align:center; padding:2rem; color:#999; font-size:0.9rem; }
.heatmap-header-row { width:100%; display:flex; flex-wrap:wrap; align-items:center; justify-content:center; gap:0.4rem; margin:0 0 0.3rem; }
.heatmap-title { font-size:0.75rem; font-weight:700; color:var(--color-primary); margin:0; text-align:center; padding:0.15rem 0.4rem; background:#fff; border:1px solid #e0e0e0; border-radius:6px; }
.heatmap-stats--compact { display:flex; flex-wrap:wrap; gap:0.3rem; justify-content:center; margin:0; }
.heatmap-chip { display:flex; align-items:center; gap:0.2rem; background:#fff; border:1px solid #e0e0e0; padding:0.2rem 0.35rem; border-radius:999px; font-size:0.45rem; line-height:1; }
.heatmap-chip--anomalia { border-color:var(--color-secondary); background:linear-gradient(135deg,#fff,#ffe6f1); }
.chip-label { font-weight:600; color:#444; }
.chip-value { font-weight:700; color:var(--color-primary); }
.heatmap-chip--anomalia .chip-value { color:var(--color-secondary); }
.heatmap-legend { display:flex; flex-direction:column; gap:0.3rem; margin:0 0 0.35rem; padding:0.3rem 0.45rem; background:#fff; border:1px solid #e0e0e0; border-radius:6px; }
.legend-item { display:flex; align-items:center; gap:0.6rem; }
.legend-color { width:100px; height:10px; border:1px solid #ccc; border-radius:4px; }
.legend-item span { font-size:0.5rem; color:#555; font-weight:500; }
.heatmap-footer-info { margin:0.1rem 0 0 0; display:flex; align-items:center; gap:0.45rem; justify-content:center; font-size:0.5rem; color:#444; font-weight:500; padding:0.15rem 0.35rem; background:#fff; border:none; border-radius:6px; width:100%; }
.heatmap-footer-info span { font-size:0.5rem; }
.heatmap-matrix-wrapper { width:100%; overflow:hidden; margin:0.05rem auto 0; border:1px solid #e0e0e0; border-radius:8px; background:#fff; padding:0.15rem 0.25rem 0.15rem; position:relative; display:flex; justify-content:center; align-items:center; }
.matrix-scale { width:fit-content; margin: 0 auto; }
.heatmap-matrix { display:grid; grid-template-columns:72px repeat(12,minmax(78px,1fr)); row-gap:5px; column-gap:5px; align-items:stretch; width:100%; }
.matrix-corner { background:linear-gradient(135deg,var(--color-primary),#0022ff); border-radius:5px; display:flex; align-items:center; justify-content:center; font-size:0.5rem; font-weight:700; color:#fff; }
.matrix-header-month { background:linear-gradient(135deg,var(--color-primary),#0011aa); color:#fff; font-size:clamp(0.5rem, 0.9vw, 0.9rem); font-weight:700; padding:0.28rem 0; border-radius:6px; text-align:center; letter-spacing:0.6px; position:sticky; top:0; }
.matrix-year-label { background:linear-gradient(135deg,#FF3184,#ff5ca0); color:#fff; font-weight:700; font-size:clamp(0.5rem, 0.9vw, 0.95rem); display:flex; align-items:center; justify-content:center; border-radius:6px; letter-spacing:0.6px; padding:0.22rem 0; }
.matrix-cell { position:relative; background:#f5f5f5; border-radius:6px; display:flex; flex-direction:column; justify-content:center; align-items:center; padding:0.22rem; min-height:48px; box-shadow:inset 0 0 0 1px rgba(0,0,0,0.05); transition:all .12s ease; cursor:pointer; }
.matrix-cell:hover { transform:translateY(-2px) scale(1.02); box-shadow:0 3px 8px -2px rgba(0,0,0,0.25); z-index:5; }
.matrix-empty { color:#c2c2c2; font-size:0.42rem; font-weight:400; }
.matrix-value { color:#111; font-weight:600; text-shadow:0 1px 2px rgba(255,255,255,0.5); border:1px solid rgba(0,0,0,0.05); }
.matrix-consumo { font-size:clamp(0.5rem, 1vw, 0.95rem); font-weight:700; line-height:1.15; text-align:center; width:100%; word-break:break-word; }
.matrix-alert { position:absolute; top:1px; right:2px; font-size:0.34rem; background:#fff; border-radius:50%; padding:1px 2px; box-shadow:0 1px 3px rgba(0,0,0,0.2); animation:pulseAlert 1.8s infinite ease-in-out; }
@keyframes pulseAlert { 0%,100% { transform:scale(1);} 50% { transform:scale(1.25);} }
.matrix-anomalia { outline:2px solid var(--color-secondary); box-shadow:0 0 0 2px rgba(255,49,132,0.25); position:relative; }
.matrix-anomalia::after { content:''; position:absolute; inset:0; border-radius:4px; box-shadow:0 0 8px 2px rgba(255,49,132,0.3); pointer-events:none; }
.heatmap-legend-variacion { margin-top:0.1rem; padding:0.3rem; background:#fff; border:1px solid #e0e0e0; border-radius:6px; }
.heatmap-legend-variacion h5 { margin:0 0 0.3rem; font-size:0.5rem; font-weight:700; color:var(--color-primary); }
.legend-colors { display:flex; flex-wrap:wrap; gap:0.4rem; }
.legend-color-item { display:flex; align-items:center; gap:0.3rem; }
.legend-box { width:18px; height:12px; border-radius:3px; border:1px solid rgba(0,0,0,0.1); }
.legend-color-item span { font-size:0.45rem; color:#555; font-weight:500; }
@media (max-width:1200px){ .heatmap-matrix { grid-template-columns:52px repeat(12,minmax(60px,1fr)); } .matrix-cell { min-height:40px; } .matrix-consumo { font-size:0.58rem; } }
@media (max-width:900px){ .heatmap-matrix { grid-template-columns:44px repeat(12,minmax(48px,1fr)); } .matrix-cell { min-height:34px; } .matrix-consumo { font-size:0.52rem; } }
@media (max-width:600px){ .heatmap-matrix { grid-template-columns:38px repeat(12,minmax(40px,1fr)); } .matrix-cell { min-height:30px; } .matrix-consumo { font-size:0.48rem; } }

/* --- Estilos para la versión integrada dentro de la matriz --- */
.heatmap-matrix--integrated { grid-auto-rows: auto; }
.matrix-integrated-header { 
	display:flex; flex-direction:column; gap:0.35rem; 
	background:#fff; border:1px solid #eaeaea; border-radius:8px; 
	padding:0.35rem 0.5rem; margin-bottom:4px; align-items:center; justify-content:center;
	width:100%;
}
.integrated-row { width:100%; display:flex; flex-wrap:wrap; align-items:center; justify-content:center; gap:0.3rem; }
.integrated-title { font-size:clamp(0.7rem, 1vw, 1rem); padding:0.1rem 0.3rem; margin:0; }
.integrated-chips { display:flex; flex-wrap:wrap; gap:0.35rem; justify-content:center; }
.legend-variacion-inline { gap:0.4rem; }
.legend-inline-title { font-size:clamp(0.55rem, 0.9vw, 0.95rem); font-weight:700; color:var(--color-primary); }
.legend-inline-items { display:flex; flex-wrap:wrap; gap:0.55rem; align-items:center; justify-content:center; }
.legend-inline-item { display:flex; align-items:center; gap:0.35rem; font-size:clamp(0.48rem, 0.8vw, 0.85rem); color:#555; }
.legend-inline-box { width:clamp(14px, 1.2vw, 20px); height:clamp(10px, 0.8vw, 14px); border:1px solid rgba(0,0,0,0.12); border-radius:3px; display:inline-block; }
.legend-inline-bar { width:clamp(90px, 12vw, 220px); height:clamp(10px, 0.9vw, 14px); border:1px solid rgba(0,0,0,0.12); border-radius:4px; display:inline-block; }
.intensity-inline { gap:0.35rem; }
